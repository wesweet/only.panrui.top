import{d as t,v as a,r as s,ae as e,af as o,ag as i,x as r,o as n,h as c,w as l,a as u,c as d,e as p,F as m,u as v,q as f,f as h,g as w,m as _,j as g,ah as x,D as k,ai as j,p as C,t as b,b as y,E as z,i as q,z as E}from"./index-1b6864a7.js";import{_ as F}from"./prstatus.5eef5b71.js";import{_ as L}from"./uni-nav-bar.cd4c1e80.js";import{_ as S}from"./uni-card.d0a59983.js";import{_ as D}from"./uni-section.324daf67.js";import{r as G}from"./request.b8d68a09.js";import{a as I}from"./app.3e5dbecf.js";import{_ as M}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.c418ed87.js";const T=M(t({__name:"dhphoto",setup(t){const M=()=>{v()},T=()=>{f({url:"/pages/dhphoto/wander"})},W=a({page:1,limit:10});let A=s(0);const B=s([]),H=()=>{G(I.getWanderList,{method:"GET",data:W}).then((t=>{const{errorCode:a,errorMessage:s,data:e}=t;0==a&&e&&(B.value=B.value.concat(e.list),A.value=e.total)})).catch((t=>{console.log(t)}))};H();const J=()=>{W.page*W.limit>=A.value?r({title:"没有更多数据了",duration:2e3}):(W.page++,H())},K=()=>{W.page=1,B.value=[],H(),o()};e((()=>{W.page=1,B.value=[],H(),o()})),i((()=>{W.page*W.limit>=A.value?r({title:"没有更多数据了",duration:300}):(W.page++,H())}));return(t,a)=>{const s=h(w("prstatus"),F),e=h(w("uni-nav-bar"),L),o=q,i=E,r=h(w("uni-card"),S),v=h(w("uni-section"),D),G=_,I=g;return n(),c(I,{class:"page"},{default:l((()=>[u(s),u(e,{"left-icon":"left",shadow:"",dark:"",title:"时光机",onClickLeft:M}),u(I,{class:"wander-list"},{default:l((()=>[u(I,{class:"scroll-view-box"},{default:l((()=>[u(G,{class:"scroll-view","scroll-y":"true",onScrolltolower:J,onScrolltoupper:K},{default:l((()=>[(n(!0),d(m,null,p(B.value,((t,a)=>(n(),c(v,{title:t.title+"("+t.date+")",type:"line"},{default:l((()=>[u(r,{onClick:a=>{return s=t.id,void f({url:"/pages/dhphoto/wander?id="+s});var s}},{default:l((()=>[x(u(o,{slot:"cover",style:{width:"100%"},src:t.photo,mode:"widthFix",onClick:k((a=>{return s=t.photo,void z({current:s,urls:[s]});var s}),["stop"])},null,8,["src","onClick"]),[[j,t.photo]]),u(i,{class:"uni-body"},{default:l((()=>[C(b(t.content),1)])),_:2},1024),y(' <view slot="actions" class="card-actions">\r\n\t\t\t\t\t  <view class="card-actions-item" @click="actionsClick(\'分享\')">\r\n\t\t\t\t\t\t<uni-icons type="redo" size="18" color="#999"></uni-icons>\r\n\t\t\t\t\t\t<text class="card-actions-item-text">分享</text>\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t\t  <view class="card-actions-item" @click="actionsClick(\'点赞\')">\r\n\t\t\t\t\t\t<uni-icons type="heart" size="18" color="#999"></uni-icons>\r\n\t\t\t\t\t\t<text class="card-actions-item-text">点赞</text>\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t\t  <view class="card-actions-item" @click="actionsClick(\'评论\')">\r\n\t\t\t\t\t\t<uni-icons type="comment" size="18" color="#999"></uni-icons>\r\n\t\t\t\t\t\t<text class="card-actions-item-text">评论</text>\r\n\t\t\t\t\t  </view>\r\n\t\t\t\t\t</view> ')])),_:2},1032,["onClick"])])),_:2},1032,["title"])))),256))])),_:1})])),_:1})])),_:1}),u(I,{class:"icon-add",onClick:T})])),_:1})}}}),[["__scopeId","data-v-d23b16ab"]]);export{T as default};
