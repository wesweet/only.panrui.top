import{j as e,q as a,k as s,s as r,o as l,b as o,w as u,e as n,g as t,y as i,C as d,A as m,m as p,r as g,a as f,D as c,h as _}from"./index-7dab9c1e.js";import{_ as w,a as b,b as x}from"./uni-forms.2c22d151.js";import{a as h}from"./app.50db3907.js";import{_ as k}from"./_plugin-vue_export-helper.1b428a4d.js";import"./uni-icons.a35dcded.js";const j=k(e({__name:"login",setup(e){const k=a({username:"wesweet",password:"Pr338535"}),j={username:{rules:[{required:!0,errorMessage:"请输入账号",trigger:"blur"},{minLength:3,maxLength:10,errorMessage:"长度在 3 到 10 个字符",trigger:"blur"}]},password:{rules:[{required:!0,errorMessage:"请输入密码",trigger:"blur"},{minLength:6,maxLength:20,errorMessage:"长度在 6 到 20 个字符",trigger:"blur"}]}},V=s("");r((()=>{V.value.setRules(j)}));const q=async()=>{if(!(await V.value.validate()))return;const e=await h(k);0===e.errorCode?(i("token",e.data.token),i("userId",e.data.userId),d({url:"/pages/index/index"})):m({title:e.errorMessage,icon:"none"})},v=()=>{p({url:"/pages/reg/reg"})};return(e,a)=>{const s=g(f("uni-easyinput"),w),r=g(f("uni-forms-item"),b),i=g(f("uni-forms"),x),d=c,m=_;return l(),o(m,{class:"box"},{default:u((()=>[n(i,{ref_key:"form",ref:V,class:"uni-forms",rules:j,model:k},{default:u((()=>[n(r,{label:"账号",name:"username",required:""},{default:u((()=>[n(s,{class:"uni-mt-5",trim:"all",modelValue:k.username,"onUpdate:modelValue":a[0]||(a[0]=e=>k.username=e),placeholder:"请输入账号"},null,8,["modelValue"])])),_:1}),n(r,{label:"密码",name:"password",required:""},{default:u((()=>[n(s,{type:"password",modelValue:k.password,"onUpdate:modelValue":a[1]||(a[1]=e=>k.password=e),placeholder:"请输入密码"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),n(m,{class:"uni-flex-pack-around"},{default:u((()=>[n(d,{size:"mini",onClick:q},{default:u((()=>[t("登录")])),_:1}),n(d,{size:"mini",onClick:v},{default:u((()=>[t("注册")])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-a752657a"]]);export{j as default};
