import{d as e,o as a,h as t,w as s,a as l,I as o,j as n,J as r,n as u,K as d,b as p,L as c,p as i,t as m,H as g,z as _,M as f,r as h,v as b,c as v,F as x,x as y,N as S,u as k,i as I,f as w,g as j}from"./index-1b6864a7.js";import{_ as C}from"./_plugin-vue_export-helper.1b428a4d.js";import{a as F}from"./app.3e5dbecf.js";import{S as V}from"./StatusBar.d4486aab.js";import{r as B}from"./request.b8d68a09.js";/* empty css                                                                  */const N=C(e({__name:"prinput",props:{placeholder:{type:String,default:"请输入内容"},maxlength:{type:[Number,String],default:20},value:{type:[String,Number],default:""}},setup:e=>(r,u)=>{const d=o,p=n;return a(),t(p,{class:"main-list oBorder"},{default:s((()=>[l(d,{class:"main-input",placeholder:e.placeholder,maxlength:e.maxlength,value:e.value,onInput:u[0]||(u[0]=e=>r.$emit("update:modelValue",e.detail.value))},null,8,["placeholder","maxlength","value"])])),_:1})}}),[["__scopeId","data-v-5835eb8a"]]),q=C(e({__name:"prbutton",props:{bgColor:{type:String,default:"linear-gradient(to right, rgba(0,0,0,0.7), rgba(0,0,0,0.6))"},fontColor:{type:String,default:"#FFFFFF"},text:String,rotate:{type:[Boolean,String],default:!1}},emits:["click"],setup(e,{emit:o}){const h=e,b=()=>{o("click")},v=r((()=>"false"!==String(h.rotate)));return(o,r)=>{const h=_,x=n,y=f;return a(),t(y,{class:u(["buttonBorder",d(v)?"dlbutton_loading":"dlbutton"]),style:g({background:e.bgColor,color:e.fontColor}),onClick:b},{default:s((()=>[l(x,{class:u(d(v)?"rotate_loop":"")},{default:s((()=>[d(v)?(a(),t(h,{key:0,class:"cuIcon cuIcon-loading1"})):p("v-if",!0),d(v)?p("v-if",!0):(a(),t(x,{key:1},{default:s((()=>[c(o.$slots,"text",{},(()=>[i(m(e.text),1)]),!0)])),_:3}))])),_:3},8,["class"])])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-e046d620"]]),M=C(e({__name:"login",setup(e){const t=h("/static/login.png");let o=h(!1);const r=b({username:"",password:""}),u=()=>{!r.username||r.username.length<3||r.username.length>10?y({title:"用户名长度在3-10之间",icon:"none",duration:2e3}):!r.password||r.password.length<6||r.password.length>20?y({title:"密码长度在6-20之间",icon:"none",duration:2e3}):B(F.login,{data:r,method:"POST"}).then((e=>{console.log(e),0==e.errorCode?(S("token",e.data.access_token),S("userId",e.data.userId),p()):y({title:e.errorMessage,icon:"none"})}))},p=()=>{k({delta:1})};return(e,p)=>{const c=I,i=n,m=w(j("prinput"),N),g=w(j("prbutton"),q);return a(),v(x,null,[l(V),l(i,{class:"login"},{default:s((()=>[l(i,{class:"content"},{default:s((()=>[l(i,{class:"header"},{default:s((()=>[l(c,{src:t.value},null,8,["src"])])),_:1}),l(i,{class:"main"},{default:s((()=>[l(m,{placeholder:"请输入账号",modelValue:r.username,"onUpdate:modelValue":p[0]||(p[0]=e=>r.username=e)},null,8,["modelValue"]),l(m,{placeholder:"请输入密码",modelValue:r.password,"onUpdate:modelValue":p[1]||(p[1]=e=>r.password=e)},null,8,["modelValue"])])),_:1}),l(g,{text:"登 录",rotate:d(o),class:"prbutton",onClick:u},null,8,["rotate"])])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-e37ca033"]]);export{M as default};
