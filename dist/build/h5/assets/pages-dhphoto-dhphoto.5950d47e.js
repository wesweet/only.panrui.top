import{o as t,b as e,w as a,e as s,n as i,B as o,f as l,g as n,t as r,d as c,h as d,i as u,j as p,l as _,k as f,a7 as m,a8 as g,a9 as h,s as y,p as v,F as k,y as C,z as S,r as b,a as x,aa as j,q as z,ab as T,v as w,u as F}from"./index-f5cefc5e.js";import{_ as B}from"./uni-icons.471b0dcd.js";import{_ as $}from"./uni-card.421687bc.js";import{_ as q}from"./_plugin-vue_export-helper.1b428a4d.js";import{S as I}from"./StatusBar.ce703030.js";import{r as E}from"./request.bdc72c03.js";import{a as G}from"./app.9134298a.js";/* empty css                                                                  */const L=q({name:"UniSection",emits:["click"],props:{type:{type:String,default:""},title:{type:String,required:!0,default:""},titleFontSize:{type:String,default:"14px"},titleColor:{type:String,default:"#333"},subTitle:{type:String,default:""},subTitleFontSize:{type:String,default:"12px"},subTitleColor:{type:String,default:"#999"},padding:{type:[Boolean,String],default:!1}},computed:{_padding(){return"string"==typeof this.padding?this.padding:this.padding?"10px":""}},watch:{title(t){uni.report&&""!==t&&uni.report("title",t)}},methods:{onClick(){this.$emit("click")}}},[["render",function(p,_,f,m,g,h){const y=d,v=u;return t(),e(y,{class:"uni-section"},{default:a((()=>[s(y,{class:"uni-section-header",onClick:h.onClick},{default:a((()=>[f.type?(t(),e(y,{key:0,class:i(["uni-section-header__decoration",f.type])},null,8,["class"])):o(p.$slots,"decoration",{key:1},void 0,!0),s(y,{class:"uni-section-header__content"},{default:a((()=>[s(v,{style:l({"font-size":f.titleFontSize,color:f.titleColor}),class:i(["uni-section__content-title",{distraction:!f.subTitle}])},{default:a((()=>[n(r(f.title),1)])),_:1},8,["style","class"]),f.subTitle?(t(),e(v,{key:0,style:l({"font-size":f.subTitleFontSize,color:f.subTitleColor}),class:"uni-section-header__content-sub"},{default:a((()=>[n(r(f.subTitle),1)])),_:1},8,["style"])):c("v-if",!0)])),_:1}),s(y,{class:"uni-section-header__slot-right"},{default:a((()=>[o(p.$slots,"right",{},void 0,!0)])),_:3})])),_:3},8,["onClick"]),s(y,{class:"uni-section-content",style:l({padding:h._padding})},{default:a((()=>[o(p.$slots,"default",{},void 0,!0)])),_:3},8,["style"])])),_:3})}],["__scopeId","data-v-a920529e"]]),M=q(p({__name:"dhphoto",setup(i){const o=()=>{S({url:"/pages/dhphoto/wander"})},l=t=>{console.log(t),y({title:"功能正在开发中",duration:2e3})},c=_({page:1,limit:10});let p=f(0);const q=f([]),M=()=>{E(G.getWanderList,{method:"GET",data:c}).then((t=>{const{errorCode:e,errorMessage:a,data:s}=t;0==e&&(y({title:a,duration:2e3}),s&&(q.value=q.value.concat(s.list),p.value=s.total))})).catch((t=>{console.log(t)}))};M(),m((()=>{c.page=1,q.value=[],M(),g()})),h((()=>{c.page*c.limit>=p.value?y({title:"没有更多数据了",duration:2e3}):(c.page++,M())}));return(i,c)=>{const p=F,_=u,f=b(x("uni-icons"),B),m=d,g=b(x("uni-card"),$),h=b(x("uni-section"),L);return t(),v(k,null,[s(I),s(m,{class:"wander-list"},{default:a((()=>[(t(!0),v(k,null,C(q.value,((i,o)=>(t(),e(h,{title:i.title+"("+i.date+")",type:"line"},{default:a((()=>[s(g,{onClick:t=>{return e=i.id,void S({url:"/pages/dhphoto/wander?id="+e});var e}},{default:a((()=>[j(s(p,{slot:"cover",style:{width:"100%"},src:i.photo,mode:"widthFix",onClick:z((t=>{return e=i.photo,void w({current:e,urls:[e]});var e}),["stop"])},null,8,["src","onClick"]),[[T,i.photo]]),s(_,{class:"uni-body"},{default:a((()=>[n(r(i.content),1)])),_:2},1024),s(m,{slot:"actions",class:"card-actions"},{default:a((()=>[s(m,{class:"card-actions-item",onClick:c[0]||(c[0]=t=>l("分享"))},{default:a((()=>[s(f,{type:"redo",size:"18",color:"#999"}),s(_,{class:"card-actions-item-text"},{default:a((()=>[n("分享")])),_:1})])),_:1}),s(m,{class:"card-actions-item",onClick:c[1]||(c[1]=t=>l("点赞"))},{default:a((()=>[s(f,{type:"heart",size:"18",color:"#999"}),s(_,{class:"card-actions-item-text"},{default:a((()=>[n("点赞")])),_:1})])),_:1}),s(m,{class:"card-actions-item",onClick:c[2]||(c[2]=t=>l("评论"))},{default:a((()=>[s(f,{type:"comment",size:"18",color:"#999"}),s(_,{class:"card-actions-item-text"},{default:a((()=>[n("评论")])),_:1})])),_:1})])),_:1})])),_:2},1032,["onClick"])])),_:2},1032,["title"])))),256))])),_:1}),s(m,{class:"icon-add",onClick:o})],64)}}}),[["__scopeId","data-v-980d8b93"]]);export{M as default};
