"use strict";const e=require("../common/vendor.js"),r=require("../config/app.js");exports.request=(t,o)=>{(e=>{if(!e)throw new Error("请求地址不能为空")})(t);const n=e.index.getStorageSync("token");return n&&(o.header.Authorization=`Bearer ${n}`),new Promise(((n,a)=>{e.index.request({url:r.HTTP_REQUEST_URL+t,method:o.method||"GET",data:o.data,header:Object.assign({},{"Content-Type":"application/json"},o.header),success:e=>{n(e.data)},fail:e=>{a(e)}})}))};
