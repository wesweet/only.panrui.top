"use strict";const e=require("../../common/vendor.js"),o=require("../../utils/request.js"),t=require("../../api/app.js");if(require("../../config/app.js"),!Array){(e.resolveComponent("uni-icons")+e.resolveComponent("uni-card")+e.resolveComponent("uni-section"))()}Math||(n+(()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js")+(()=>"../../uni_modules/uni-card/components/uni-card/uni-card.js")+(()=>"../../uni_modules/uni-section/components/uni-section/uni-section.js"))();const n=()=>"../../components/StatusBar.js",i=e.defineComponent({__name:"dhphoto",setup(n){const i=()=>{e.index.navigateTo({url:"/pages/dhphoto/wander"})},a=o=>{console.log(o),e.index.showToast({title:"功能正在开发中",duration:2e3})},r=e.reactive({page:1,limit:10});let s=e.ref(0);const u=e.ref([]),c=()=>{o.request(t.appApi.getWanderList,{method:"GET",data:r}).then((o=>{const{errorCode:t,errorMessage:n,data:i}=o;0==t&&(e.index.showToast({title:n,duration:2e3}),i&&(u.value=u.value.concat(i.list),s.value=i.total))})).catch((e=>{console.log(e)}))};c(),e.onPullDownRefresh((()=>{r.page=1,u.value=[],c(),e.index.stopPullDownRefresh()})),e.onReachBottom((()=>{r.page*r.limit>=s.value?e.index.showToast({title:"没有更多数据了",duration:2e3}):(r.page++,c())}));return(o,t)=>({a:e.f(u.value,((o,t,n)=>({a:o.photo,b:o.photo,c:e.o((t=>{return n=o.photo,void e.index.previewImage({current:n,urls:[n]});var n})),d:e.t(o.content),e:"741a3953-3-"+n+",741a3953-2-"+n,f:"741a3953-4-"+n+",741a3953-2-"+n,g:"741a3953-5-"+n+",741a3953-2-"+n,h:e.o((t=>{return n=o.id,void e.index.navigateTo({url:"/pages/dhphoto/wander?id="+n});var n})),i:"741a3953-2-"+n+",741a3953-1-"+n,j:"741a3953-1-"+n,k:e.p({title:o.title+"("+o.date+")",type:"line"})}))),b:e.p({type:"redo",size:"18",color:"#999"}),c:e.o((e=>a("分享"))),d:e.p({type:"heart",size:"18",color:"#999"}),e:e.o((e=>a("点赞"))),f:e.p({type:"comment",size:"18",color:"#999"}),g:e.o((e=>a("评论"))),h:e.o(i)})}});wx.createPage(i);
